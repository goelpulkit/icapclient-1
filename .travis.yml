branches:
  only:
  - master
  - stable
language: java
env:
  global:
  - secure: Lg1hhWxIVFHg1qO7HLz/bdZzlC9lpJVCYEWBy20TlPrR2k70yyynCdJ7mYMjerAHvHB+bHxtBsQ2XlRAJYz+eiXwOG2xqxbfLHO2QLXZjcVAP1WMKyd+/YJ+gFtr28GQQb6fhKwtaXxsjk5EhlzCXL+IKbNWWjxZCRZte+HI0zYXf1DnrBtoXSZa53qYipRYM2X5tHxBj6zaCiQEIBL/kT9ZI3mRdGG+gdR0h3B7RwgQtrdvddbsVnOy1UGoVUqEEXJa+Dl63X8AUAd59HD5sRT9At+MMzmM40SKWVS4YgiIDf7kww6Caalv7/OlJPEDTvtMnOP3pyIoa3ZXyJjuj32G+EITbm9vCskil+ePTCNsJzre6N9sPrijlkdPGrX4k4+FdEIMCwMLjM3wfCh8hAL6zoC9aDkv/Uzh3Hfmq05x9sqe4AQcIwmznVVw4BlI1rWVgO/zOiG25ZEhtvn7Fgnb4swTd+5QqllKyg8SskX23gbFIUptoYOkWBFRbfeLhmWTMkR+aq8hKqe6hdPsYqsodOrqrKldJbCbZFYcZQOos9af/VJavfCiSMXUi90ZUcL3eJLFv5hADKNfeZXivp+19dUwgVYxd6ZTRfSdDcQ2x1LiEp8hjaFYAjvPMuT2Jc1mlTuR59Cu7aGPC3WAPr4HnSLjJGaMJNnIyd8ixxc=
  - secure: fcihoinwQyRbFGzsBuI2ILF6PgWcZw1NSYHH8KMV996pjW7P+weWtxCc42QOFVbgzbSi+NZWxUWNqZ54GRbOHz96vPF7MyA2e9k6i6RqhAzhUkGA6YqaQlOlc7dJcEy96DxjS1mbX9OcLsP/S+jDTp83HQYccHkNf6r3WlvUY74PA91wHLnvhTkVhBRGo+lc5BhkwIdJdVc481X/6StgEuWByZa8oGJ9aHP6JzFPyE6fsWPuKt9M9IEka+GyyfDnMcgk8IGQ9M2LaHFRufsGNqLXuKfoweaazS07FKN/9svit7A3DmiAFpx3AWWTYzt1ntJdYK0GcBJOtt5hWiQHKYT9oceAMiVKZGB9v8JLzhfNsLrC/Khetbd09FtLJ23ZGXQX4BiOuZMkgoL3rc5X/N7CmTtbVfkbL3Xz05WNOSh8laj4fTGa8huSiq+boirck0scocVTsBO1z905W/UZWvZHNmhwug0o1P3ijY914R7yISt1bxJ7izSNJhgaWXO/WtbD/qKgHEJLYXrzY4vxVJ8UyYnL09Xa6CY1RvzBFgFnhR14oMQUlvDbhBLjx9TIVuiuhnchS/NwvgliT/qVn52lWFq1xLFWfAjjmS/r248EVlGks1YIy1K8vjPzZJP60BTqHK2yb41YFsf3kn8VnXipM40n49kKZ0tU+OlrlXo=
  - secure: EoHk3rA6UU/Wqxa0CNayUpBDn4ucGM76Ke6u9DFQ89OtZmy3i6D77ei+rxYbzMALWcQGmb/I2jcFUpdRZrZWndTR4/GxI/nb62c9usmm+utJbnmF+zumzVlnD1AdDxTaTaA/FUMnuC37ZQTENMhI52cwJLQvYXKLVdF7i88WYXKRyTfB/NVxiLRwab0cq45Bo+X8vW6SqOZHzi9Tj+Czf5EE33dUkv7nsJ4IrV7gIqIRecKqtgU1NlZjtCslVtGtrRc2QWGCydjdkR6N5EbK3QqM+ZhFh+PIq17Ii1BUAzOnWM0gWggChoiNf8sQzQ2M7zkAg36V76BNoXNhoyzRRZ7Y1O3JVpr5W/oVorwIfZCN+cFcOJqWSOemVMJaczK1rcEN65zGK514Y1NtkRI2323g/5/BSM9MS4uMbbKDmOOetZw6t6H5LuLnScRbkQChC3n9zMh7EwPcXa21017mPZzAmYSt/vUrCmyGUTvgnZTEoGnB7T9SyIrMS4pvYpGANJGZ4bLyjSyvDHexGDdt1rRDZ+4wtyv5p3ypwRX7G+09d4F14XpT1Jh68q/aN1f5qxoFtiqxVDZSBjlvojcpSK9iZc9k/oZGCXJz9DOc2+McHJAP3bEU21YaXNq3uyc88kWPPdppWrzFOTm87KohoAztJoC4ro6Z1H9pTBCF+Y0=
  - secure: iM2TK/P2ADB50ypOzZConVyd+rRaVVoAMujDG/mtYKHOyqBClk0gVHWq6nWcKr38Q6oDQzuJ4ICiZOFLvs02m0v+giPDZQWUQ84ojBCH54MavCyol6og38q+Mn363mk9ATeenl36KWTLewlWfueHAlu+f/RJ9FEYsNF4JS0ftmUp6XWlJ3mGdWYVtzZC+q2IdDaDQ8xElbOv36RdSL8jdAW1mm3lwklpM989k0v1UbFH7NO5ckUNdaehZEk9eYl1H9f5PFFAkvGBi4n0gN/F8mCqARE7pj28iaHVoUn0mkGLlNKsAM5WNtzphfwpEXaXonm1O9qtp7ixiNLI+HxSYpxPN3zWjKDCBfrb2B+cFINbXKREbUrAr9QSBePz+b5vInMZxanONSpPFWUDc+/HLacKX3U1vk7Aun2Jostp1Wrvp9jzHjXzIx6gBuJ7s86CyTMJKG0NzfDFymzn1ow4Mb4xVXhVzmPs1ACuI03LlcIVAzYPB/t3B132rGo6KA5QOXp6VFumhvYBOzVIy9E8ab2MKX+a2vE2GNrBJ7DA3w1BlpZRa96f+3Q3yqZsqcMNlZ3yPm0rtZnPC6luJJ1aH1sWNkzNAeE7isRsymyes2slzpAfaY65kSNLslJZsQJAmqOAVtt9e7jxztq10uKR0NziXOjbQrKj853ryGPYdNo=
jdk:
- oraclejdk8
before_install: 
install:
- mvn install -P !build-extras -B -V
before_script: 
script: mvn test -P !build-extras -B
after_success:
- "./cd/before-deploy.sh"
- "./cd/deploy.sh"
after_failure:
- cat com.github.lafa.logfast/target/surefire-reports/*.txt
- cat com.github.lafa.logfast/core/target/surefire-reports/*.txt
